<div class="forgot-password-container">

    <div class="form-card" *ngIf="!isSuccess">
        <h1 class="title">Forgot Password</h1>
        <p class="description">
            Enter the email address associated with your account and we'll send you a link to reset your password.
            <br> <strong>Remember to check your spam folder.</strong>
        </p>

        <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Email</mat-label>
                <input matInput formControlName="email" type="email" placeholder="you@email.com">
                <mat-error *ngIf="forgotPasswordForm.get('email')?.hasError('required')">
                    Email is required
                </mat-error>
                <mat-error *ngIf="forgotPasswordForm.get('email')?.hasError('email')">
                    Please enter a valid email address
                </mat-error>
            </mat-form-field>

            <button mat-raised-button color="primary" type="submit" [disabled]="isLoading || forgotPasswordForm.invalid"
                class="full-width">
                <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
                <span *ngIf="!isLoading">Send Reset Link</span>
            </button>

            <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
        </form>
    </div>

    <div class="success-card" *ngIf="isSuccess">
        <mat-icon class="success-icon">mark_email_read</mat-icon>
        <h1 class="title">Check Your Email</h1>
        <p class="description">
            If an account exists for <span class="email-text">{{ forgotPasswordForm.value.email }}</span>, you will
            receive an email with instructions on how to reset your password.
        </p>
        <a mat-stroked-button routerLink="/login">Back to Login</a>
    </div>
</div>